version: '3.8'
services:
  openhands:
    image: docker.openhands.dev/openhands/openhands:1.2
    pull_policy: always
    environment:
      - AGENT_SERVER_IMAGE_REPOSITORY=docker.openhands.dev/openhands/runtime
      - AGENT_SERVER_IMAGE_TAG=1.2-nikolaik
      - LOG_ALL_EVENTS=true
      - LLM_API_KEY=${LLM_API_KEY}
      - LLM_MODEL=${LLM_MODEL}
      - TAVILY_API_KEY=${TAVILY_API_KEY}
    volumes:
      - /var/run/docker.sock:/var/run/docker.sock
      - ~/.openhands:/.openhands
    ports:
      - "3000:3000"
    extra_hosts:
      - "host.docker.internal:host-gateway"
